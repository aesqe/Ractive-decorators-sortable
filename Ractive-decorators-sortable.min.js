var sortableDecorator=function(a,b){"use strict";if("undefined"!=typeof module&&module.exports&&"function"==typeof require)return b(require("ractive"));if("function"==typeof define&&define.amd)define(["ractive"],b);else{if(!a.Ractive)throw new Error("Could not find Ractive! It must be loaded before the Ractive-decorators-sortable plugin");b(a.Ractive)}}("undefined"!=typeof window?window:this,function(a){"use strict";var b,c,d,e,f,g,h,i,j,k;return b=function(a){return a.draggable=!0,a.addEventListener("dragstart",g,!1),a.addEventListener("dragenter",h,!1),a.addEventListener("dragleave",i,!1),a.addEventListener("drop",i,!1),a.addEventListener("dragover",j,!1),{teardown:function(){a.removeEventListener("dragstart",g,!1),a.removeEventListener("dragenter",h,!1),a.removeEventListener("dragleave",i,!1),a.removeEventListener("drop",i,!1),a.removeEventListener("dragover",j,!1)}}},b.targetClass="droptarget",k="The sortable decorator only works with elements that correspond to array members",g=function(b){var g,h=a.getNodeInfo(this);if(d=h.resolve(),g=d.lastIndexOf("."),-1===g)throw new Error(k);if(e=d.substr(0,g),f=+d.substring(g+1),isNaN(f))throw new Error(k);b.dataTransfer.setData("foo",!0),c=h.ractive.root},h=function(){var d,g,h,i,j=a.getNodeInfo(this);if(j.ractive.root===c){if(d=j.resolve(),g=d.lastIndexOf("."),-1===g)throw new Error(k);if(h=d.substr(0,g),i=+d.substring(g+1),h===e)return i===f?void this.classList.add(b.targetClass):void c.splice(e,f,1).then(function(a){return f=i,c.splice(e,f,0,a[0])}).then(function(){c.fire("sort",j)})}},i=function(){this.classList.remove(b.targetClass)},j=function(a){a.preventDefault()},a.decorators.sortable=b,b});"undefined"!=typeof module&&module.exports&&(module.exports=sortableDecorator);